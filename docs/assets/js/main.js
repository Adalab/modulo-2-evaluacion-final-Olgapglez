"use strict";const buttonSearch=document.querySelector(".js-button-search"),inputSearch=document.querySelector(".js-input-search"),ulElement=document.querySelector(".js-search-list"),ulFavElement=document.querySelector(".js-fav-list"),placeHoldImage="https://via.placeholder.com/210x295/ffffff/666666/?text=Sorry%20we%20don%C2%B4t%20have%20a%20picture%20for%20this%20:(";let coctails=[],favCoctails=[];function fetchMargaritas(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(e=>e.json()).then(e=>{coctails=e.drinks.map(e=>({id:e.idDrink,name:e.strDrink,image:e.strDrinkThumb})),renderCoctails()})}function renderCoctails(){ulElement.innerHTML="";for(const e of coctails){favCoctails.findIndex(t=>t.id===e.id);ulElement.innerHTML+=`\n    <li class="js-list-item" id="${e.id}">\n    <img src= "${e.image?e.image:placeHoldImage}" alt= "${e.name}"/>\n    ${e.name}\n    </li>`}addEventToCoctails()}function renderFavList(){ulFavElement.innerHTML="";for(const e of favCoctails)ulFavElement.innerHTML+=`\n    <li class="js-list-item" id="${e.id}">\n    <img src= "${e.image?e.image:placeHoldImage}" alt= "${e.name}"/>\n    ${e.name}\n    </li>`}function handleClickSearch(e){e.preventDefault();let t=inputSearch.value;""===t?(fetchMargaritas(),console.log("No hay bÃºsqueda")):fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(e=>e.json()).then(e=>{console.log(e.drinks),coctails=e.drinks.map(e=>({id:e.idDrink,name:e.strDrink,image:e.strDrinkThumb})),renderCoctails()})}function handleClickFav(e){e.currentTarget.classList.toggle("favourites");const t=coctails.find(t=>t.id===e.currentTarget.id),a=favCoctails.findIndex(t=>t.id===e.currentTarget.id);console.log(favCoctails),-1===a?favCoctails.push(t):favCoctails.splice(a,1),localStorage.setItem("favCoctails",JSON.stringify(favCoctails)),renderFavList()}function addEventToCoctails(){const e=document.querySelectorAll(".js-list-item");for(const t of e)t.addEventListener("click",handleClickFav)}const FavCoctailsStored=JSON.parse(localStorage.getItem("favCoctails"));FavCoctailsStored&&(favCoctails=FavCoctailsStored,console.log(favCoctails),renderFavList()),buttonSearch.addEventListener("click",handleClickSearch),fetchMargaritas(),addEventToCoctails();